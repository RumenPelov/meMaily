{"version":3,"sources":["actions/types.js","actions/index.js","components/Payments.js","components/Header.js","components/Landing.js","components/surveys/surveyCard.js","components/surveys/DropdownInput.js","components/surveys/SurveyList.js","components/Dashboard.js","components/surveys/SurveyField.js","utils/validateEmails.js","components/surveys/formFields.js","components/surveys/SurveyForm.js","components/surveys/SurveyFormReview.js","components/surveys/SurveyNew.js","components/App.js","reducers/index.js","reducers/authReducer.js","reducers/surveysReducer.js","reducers/formInitReducer.js","index.js"],"names":["FETCH_DRAFT","INIT_DRAFT","dateToNumber","str","value","slice","split","filter","char","join","parseInt","fetchUser","history","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","axios","get","sent","data","_id","push","type","payload","stop","this","_x","apply","arguments","logout","_ref2","_callee2","_context2","_x2","handleToken","token","_ref3","_callee3","_context3","post","_x3","submitSurvey","values","_ref4","_callee4","_context4","_x4","fetchSurveys","_ref5","_callee5","_context5","_x5","sortDescSurveys","surveys","sort","b","dateSent","sortAscSurveys","sortYesSurveys","yes","deleteSurvey","id","_ref6","_callee6","_context6","_x6","fetchDraft","_ref7","_callee7","_res","_context7","_x7","clearDraft","obj","_ref8","_callee8","_context8","clear","delete","_x8","Payments","_this","react_default","createElement","main_default","name","description","amount","props","stripeKey","className","btnClass","Component","connect","actions","Header","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggle","setState","expand","state","auth","href","key","components_Payments","style","margin","credits","onClick","react_router_dom_es","to","xlinkHref","renderDropContent","renderContent","withRouter","Landing","dist","justifyContent","Fade_default","bottom","SurveyCard","survey","title","body","subject","Date","toLocaleDateString","no","bind","DropdownInput","items","map","fn","text","placeholder","renderDropdownItems","SurveyList","surv","length","flex","DropdownInput_DropdownInput","reverse","surveyCard","renderSurveyNav","renderSurveys","Dashboard","surveys_SurveyList","SurveyField","input","label","placeHolder","_ref$meta","meta","error","touched","assign","marginBottom","re","validateEmails","emails","from","invalidEmails","email","trim","test","pop","concat","formFields","SurveyForm","formValues","_this$props$formValue","recipients","_","Field","component","onSubmit","handleSubmit","onSurveySubmit","renderFields","saveDraft","reduxForm","validate","errors","each","form","destroyOnUnmount","surveyForm","initialValues","formInit","onCancel","reviewFields","submitSurveyReview","window","alert","renderNoCreditsAlarm","disabled","SurveyNew","showFormReview","_this2","DraftValues","noDraft","surveys_SurveyFormReview","surveys_SurveyForm","top","App","components_Header","exact","path","combineReducers","undefined","action","draft","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDom","render","es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.c155e052.chunk.js","sourcesContent":["export const FETCH_USER = 'fetch_user';\r\nexport const FETCH_SURVEYS = 'fetch_surveys';\r\nexport const FETCH_DRAFT = 'fetch_draft';\r\nexport const INIT_DRAFT = 'init_draft';","import axios from 'axios';\r\nimport { FETCH_USER, FETCH_SURVEYS, INIT_DRAFT } from \"./types\";\r\n\r\nconst dateToNumber = (str) => {\r\n    let value = str.slice(0,16).split('').filter(char => char!=='-' && char!=='T' && char!==':' ).join('');\r\n    return parseInt(value, 10);\r\n}\r\n\r\nexport const fetchUser = (history) => {\r\n    return async function(dispatch) {\r\n       const res = await axios.get('/api/current_user')\r\n       \r\n       if(!res.data._id){\r\n            history.push('/');\r\n       }\r\n       dispatch({type: FETCH_USER, payload: res.data});\r\n    }\r\n}\r\n\r\nexport const logout = (history) => {\r\n    return async function(dispatch) {\r\n       const res = await axios.get('/api/logout');\r\n       \r\n       history.push('/');\r\n       dispatch({type: FETCH_USER, payload: res.data});\r\n    }\r\n}\r\n\r\nexport const handleToken = (token) => async dispatch => {\r\n    const res = await axios.post('/api/stripe', token);\r\n    \r\n    dispatch({type: FETCH_USER, payload:res.data})\r\n} \r\n\r\nexport const submitSurvey = (values, history) => async dispatch => {\r\n    \r\n    //return { type: 'submit_survey'};\r\n    const res = await axios.post('/api/surveys', values);\r\n    \r\n    history.push('/surveys');\r\n    dispatch({type: FETCH_USER, payload:res.data})\r\n} \r\n\r\nexport const fetchSurveys = () => async dispatch => {\r\n\r\n    const res = await axios.get('/api/surveys');\r\n    \r\n    dispatch({type: FETCH_SURVEYS, payload:res.data});\r\n} \r\n\r\nexport const sortDescSurveys = (surveys) =>  {\r\n    \r\n   // [...surveys].reverse();\r\n    surveys.sort((a,b) => {\r\n        return dateToNumber(a.dateSent) - dateToNumber(b.dateSent);\r\n    });\r\n\r\n    return {type: FETCH_SURVEYS, payload: surveys};\r\n} \r\nexport const sortAscSurveys = (surveys) =>  {\r\n    \r\n    // [...surveys].reverse();\r\n     surveys.sort((a,b) => {\r\n         return -(dateToNumber(a.dateSent) - dateToNumber(b.dateSent));\r\n     });\r\n \r\n     return {type: FETCH_SURVEYS, payload: surveys};\r\n } \r\n\r\nexport const sortYesSurveys = (surveys) =>  {\r\n    \r\n    // [...surveys].reverse();\r\n     surveys.sort((a,b) => {\r\n         return a.yes - b.yes;\r\n     });\r\n \r\n     return {type: FETCH_SURVEYS, payload: surveys};\r\n }\r\n\r\nexport const deleteSurvey = (id) => async dispatch => {\r\n    \r\n    const res = await axios.post('/api/surveys/delete', {id});\r\n    \r\n    dispatch({type: FETCH_SURVEYS, payload:res.data});\r\n} \r\n\r\nexport const fetchDraft = (values) => async dispatch => {\r\n\r\n    if(!values){\r\n        const res = await axios.get('/api/surveys/draft');\r\n\r\n        dispatch({type: INIT_DRAFT, payload: res.data});\r\n    } else {\r\n        const res = await axios.post('/api/surveys/draft', values);\r\n   \r\n        dispatch({type: INIT_DRAFT, payload: res.data});\r\n       \r\n    }\r\n}\r\n\r\nexport const clearDraft = (obj) => async dispatch => {\r\n\r\n    if(obj.clear) {\r\n        dispatch({type: INIT_DRAFT, payload: {}});\r\n    }\r\n\r\n    if(obj.delete){\r\n\r\n        await axios.post('/api/surveys/draft/delete', {});\r\n\r\n        dispatch({type: INIT_DRAFT, payload: {}});\r\n    }\r\n    \r\n}","import React, {Component} from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nclass Payments extends Component {\r\n    render() {\r\n\r\n        return(\r\n            <StripeCheckout \r\n            name=\"Emaily\"\r\n            description=\"5$ for 5 emails use card 4242 4242 4242 4242\"\r\n            amount={500}\r\n            token={token => this.props.handleToken(token)}\r\n            stripeKey= 'pk_test_fj0Fh1kxVNIXo8KVnx0GFRGv'\r\n        >\r\n        <div className={this.props.btnClass}>\r\n            Add Credits\r\n        </div>\r\n        </StripeCheckout>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, actions)(Payments);\r\n\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link, withRouter} from 'react-router-dom';\r\n\r\nimport Payments from './Payments';\r\nimport * as actions  from '../actions';\r\n\r\nclass Header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state =  {expand: false};\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({expand: !this.state.expand });\r\n    }\r\n    \r\n    componentWillMount() {\r\n        this.props.fetchUser(this.props.history);\r\n    }\r\n\r\n    logout = () => {\r\n       this.props.logout(this.props.history);\r\n    }\r\n  \r\n    renderContent(){\r\n        switch (this.props.auth) {\r\n            case null:\r\n                return ;\r\n            case false :\r\n                return (\r\n                    <li><a href=\"/auth/google\">Login With Google</a></li>\r\n                );\r\n            default:\r\n                return [\r\n                    <li key='1' ><Payments btnClass=\"custom-btn custom-btn--green custom-inline\"/></li>,\r\n                    <li key='3' style = {{margin: '0 10px' }}>  Credits: {this.props.auth.credits} </li>,\r\n                    <li key='2' ><a onClick={this.logout} href=\"#!\">Logout</a></li>\r\n                ];\r\n        }\r\n    }\r\n\r\n    renderDropContent(){\r\n        switch (this.props.auth) {\r\n            case null:\r\n                return ;\r\n            case false :\r\n                return (\r\n                    <a  href=\"/auth/google\" className=\"custom-nav_menu-item\">Login With Google</a> \r\n                );\r\n            default:\r\n                return [\r\n                    <button key='1' className=\"custom-nav_menu-item\" onClick={()=>{}}><Payments btnClass=\"\" /></button>,\r\n                    <button key='3' className=\"custom-nav_menu-item\" onClick={()=>{}}>Credits: {this.props.auth.credits} </button>,\r\n                    <button key='2' className=\"custom-nav_menu-item\" onClick={this.logout} >Logout</button> \r\n                ];\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div >\r\n            <nav className=\"nav-wrapper deep-orange accent-4\">\r\n                <div className=\"container\">\r\n                    <div className=\"custom-nav \">\r\n                    <Link style = {{margin: '0 10px' }}\r\n                        to={this.props.auth ? '/surveys' : '/'}\r\n                        className=\"custom-nav_logo\"\r\n                        >Emaily</Link>\r\n\r\n                    <div className=\"hide-on-med-and-up custom-nav_menu\" \r\n                         style = {{margin: '0 10px'}} \r\n                         onClick={this.toggle}>\r\n                        <svg className=\"custom-nav_menu-icon\" >\r\n                            <use xlinkHref='sprite.svg#icon-menu'></use>\r\n                        </svg> \r\n\r\n                        <div className={this.state.expand ? \"custom-nav_menu-content custom-nav_menu-toggle\" : \"custom-nav_menu-content\"}>\r\n                            {this.renderDropContent()}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <ul id=\"\" className=\"hide-on-small-and-down\">\r\n                        {this.renderContent()}\r\n                    </ul>                          \r\n                </div>      \r\n                </div>\r\n            </nav>\r\n        </div> \r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return { auth: state.auth };\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(withRouter(Header));\r\n\r\n","import React, {Component} from 'react';\r\nimport Fade from 'react-reveal/Fade'\r\nimport { Flex } from 'rebass'\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Landing extends Component {\r\n\r\n    renderContent(){;\r\n        switch (this.props.auth) {\r\n            case null:\r\n                return ;\r\n            case false :\r\n                return (\r\n                <div >\r\n                    <h3>\r\n                        Emaily\r\n                    </h3>\r\n                    <h6 className=\"custom-line\">Fast and easy way to collect feedback from your clients</h6>\r\n                    <h6 className=\"custom-line\">Login to start sending surveys</h6>\r\n                    <a className=\"custom-btn  custom-btn--grey  custom-my-20 \" href=\"/auth/google\">Login With Google</a>\r\n                </div>\r\n                );\r\n            default:\r\n                return  (\r\n                <div>\r\n                    <h5 className=\"custom-mt-20\"> Welcome to Emaily! </h5>\r\n                    <h6 className=\"custom-mt-10 custom-line\">You are now ready to start collecting feedbacks </h6>\r\n                    <Link className=\"custom-btn  custom-btn--grey custom-my-20 \"\r\n                        to={this.props.auth ? '/surveys' : '/'}>Next step &rarr;</Link>\r\n                     \r\n                </div>\r\n                );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Flex justifyContent=\"center\">\r\n                <Fade bottom>\r\n                    <div  className=\"custom-landing_card\">\r\n                        {this.renderContent()}\r\n                    </div>\r\n                </Fade>\r\n            </Flex>       \r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return { auth: state.auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Landing);","import React, { Component} from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as actions  from '../../actions';\r\n\r\nclass SurveyCard extends Component {\r\n\r\n    deleteSurvey(){\r\n        this.props.deleteSurvey(arguments[0]);\r\n    }\r\n\r\n    render(){\r\n        const survey = this.props.survey; \r\n        return(\r\n            <div className=\"custom-card\">\r\n                <div className=\"custom-card__content\">\r\n                    <div className=\"custom-card__content-title\">\r\n                        <div className=\"custom-card__content-left\">Title:</div>\r\n                        <div className=\"custom-card__content-right custom-text-2\">{survey.title}</div>\r\n                    </div>\r\n                    <div className=\"custom-card__content-qtn\">\r\n                        <div className=\"custom-card__content-left\">Question:</div>\r\n                        <div className=\"custom-card__content-right custom-text\">{survey.body}</div>\r\n                    </div>\r\n                    <div className=\"custom-card__content-subject\">\r\n                        <div className=\"custom-card__content-left\">Subject:</div>\r\n                        <div className=\"custom-card__content-right\">{survey.subject}</div>\r\n                    </div>\r\n                    <div className=\"custom-card__content-subject\">\r\n                        <div className=\"custom-card__content-left\">Date sent:</div>\r\n                        <div className=\"custom-card__content-right\">{new Date(survey.dateSent).toLocaleDateString()}</div>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div className=\"custom-card__action\">\r\n                    <div className=\"custom-card__action-left\">\r\n                        <div className=\"custom-card__action-votes\">YES: {survey.yes}</div>\r\n                        <div className=\"custom-card__action-votes\">NO: {survey.no}</div>\r\n                    </div>\r\n                    <button className=\"custom-card__action-right custom-btn custom-btn--orange-2\"\r\n                            onClick={this.deleteSurvey.bind(this, survey._id )}>\r\n                        Delete Survey\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect(null, actions )(SurveyCard);","import React, { Component } from 'react'\r\n\r\nexport default class DropdownInput extends Component {\r\n\r\n  renderDropdownItems() {\r\n\r\n    if(this.props.items) {\r\n        return this.props.items.map((value, key) => {\r\n          return <button className=\"dropdown__content-item\" key={key} type=\"button\" onClick={value.fn}>{value.text}</button>\r\n      });\r\n    }\r\n    return ;\r\n  }\r\n\r\n \r\n  render() { \r\n\r\n    const { placeholder} = this.props;\r\n  \r\n    return (\r\n      <div className=\"dropdown\">\r\n\r\n        <div className=\"dropdown__content\">\r\n          {this.renderDropdownItems()}\r\n        </div>\r\n        <div className=\"dropdown__btn dropdown__grey\">\r\n          {placeholder}\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n","import React, { Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport Fade from 'react-reveal/Fade'\r\nimport { Flex } from 'rebass'\r\nimport * as actions  from '../../actions';\r\n\r\nimport SurveyCard from './surveyCard';\r\nimport DropdownInput from './DropdownInput';\r\n\r\n\r\nclass SurveyList extends Component {\r\n \r\n    componentDidMount(){\r\n            this.props.fetchSurveys(); \r\n    }\r\n\r\n    sortAscSurveys = () => {\r\n        const surv = this.props.surveys.slice();\r\n        this.props.sortAscSurveys(surv); \r\n    }\r\n\r\n    sortDescSurveys = () => {\r\n        const surv = this.props.surveys.slice();\r\n        this.props.sortDescSurveys(surv); \r\n    }\r\n\r\n    sortYesSurveys = () => {\r\n        const surv = this.props.surveys.slice();\r\n        this.props.sortYesSurveys(surv); \r\n    }\r\n\r\n    renderSurveyNav(){\r\n\r\n        const items =  [{text:'Date Sent Asc', fn: this.sortAscSurveys},\r\n                        {text:'Date Sent Desc', fn: this.sortDescSurveys},\r\n                        {text:'Yes Response', fn: this.sortYesSurveys}]\r\n       \r\n        if (this.props.surveys.length){\r\n            return (\r\n                <div >\r\n                    <div className=\"custom-group-buttons custom-mt-15\" >\r\n                        <div>\r\n                            <h5 className=\" grey-text text-darken-1 custom-margin-none\">Active surveys</h5>\r\n                        </div>\r\n                       <div style = {{flex: '1' }}> </div>\r\n                       <Link to={'/surveys/new'} className=\"custom-btn custom-btn--grey-1\">\r\n                                    New survey\r\n                                </Link>\r\n                        <DropdownInput items={items} placeholder=\"Sort by\" />    \r\n                    </div>\r\n                   \r\n                    <div style = {{margin: '20px 0' }} >\r\n                        <hr />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"custom-landing_card\">\r\n                <h5 className=\"custom-text custom-mt-20\">You currently do not have any surveys</h5>\r\n                <Link className=\"custom-btn custom-btn--grey custom-my-20 \"\r\n                        to = \"/surveys/new\" >\r\n                    Create survey &rarr;\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderSurveys() {\r\n        return this.props.surveys.reverse().map(survey => {\r\n            return (\r\n                <SurveyCard key={survey._id} survey={survey} />\r\n            );\r\n        });\r\n    } \r\n\r\n    render(){\r\n        const length = this.props.surveys.length;\r\n\r\n        return(\r\n            <Flex justifyContent=\"center\">\r\n                <Fade bottom>\r\n                    <div className={ length ? \"custom-survey_card custom-mt-40\" : \"custom-pos-relative \"}>\r\n                        {this.renderSurveyNav()}\r\n                        {this.renderSurveys()}\r\n                    </div>\r\n                </Fade>\r\n            </Flex>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return { \r\n            surveys: state.surveys\r\n        };\r\n}\r\n\r\nexport default connect(mapStateToProps, actions )(SurveyList);\r\n\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport SurveyList from './surveys/SurveyList';\r\n\r\n\r\nclass Dashboard extends Component {\r\n\r\n    renderContent() {\r\n        switch (this.props.auth) {\r\n            case null:\r\n                return ;\r\n            case false :\r\n                return ;\r\n            default:\r\n                return  (\r\n                    <div>\r\n                        <SurveyList />\r\n                        <div className=\"fixed-action-btn\">\r\n                            <Link to = \"/surveys/new\"className=\"btn-floating btn-large red\">\r\n                                <i className=\" material-icons\">add</i>\r\n                            </Link>\r\n                        </div>\r\n                    \r\n                    </div>\r\n                );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderContent()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return { auth: state.auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Dashboard);","// to render a single input\r\nimport React from 'react';\r\n\r\n          \r\nexport default ({input, label, placeHolder ,meta:{error, touched} }) => {\r\n\r\n    return (\r\n        <div>\r\n            <label>{label}</label>\r\n            <input {...input} style={{marginBottom: '5px'}} placeholder=  {placeHolder} />\r\n                <div className=\"red-text\" style={{marginBottom: '20px'}} >\r\n                    {touched && error}\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n          ","const re = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n\r\nexport default (emails, from) => {\r\n    const invalidEmails= emails\r\n        .split(',')\r\n        .map(email => email.trim())\r\n        .filter(email => re.test(email)=== false);\r\n\r\n    if (invalidEmails[invalidEmails.length-1] === '') {\r\n        invalidEmails.pop();\r\n    }\r\n\r\n    \r\n    if (invalidEmails.length && from !== 'from' ) {\r\n        return `These emails are invalid: ${invalidEmails}` ;\r\n    }\r\n    if (invalidEmails.length && from === 'from' ) {\r\n        return `This email is invalid: ${invalidEmails}` ;\r\n    }\r\n    return;\r\n};","export default  [\r\n    {label: \"Survey Title\", name:'title'},\r\n    {label:\"Subject Line\" , name:'subject' },\r\n    {label:\"Email Body\", name:'body' },\r\n    {label:\"Recipients Emails\", name:'recipients'},\r\n    {label:\"From\", name:'from'}\r\n];","import _ from 'lodash';\r\nimport React, { Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport SurveyField from './SurveyField';\r\nimport validateEmails from '../../utils/validateEmails';\r\nimport formFields from './formFields';\r\nimport { fetchDraft }  from '../../actions';\r\n\r\nclass SurveyForm extends Component {\r\n   \r\n\r\n    saveDraft(){\r\n\r\n        if (this.props.formValues){\r\n            let {title, subject, body, recipients, from} = this.props.formValues;\r\n            let data =  {title, subject, body, recipients, from};\r\n           // console.log(data);\r\n            this.props.fetchDraft(data);\r\n        } \r\n\r\n    }\r\n\r\n    renderFields() {\r\n\r\n        return _.map(formFields , ({label, name}) => {\r\n            let placeHolder = \"\";\r\n            if (name ==='from'){\r\n                placeHolder = \"Leave blank for no-reply@emaily.com or enter your email\";\r\n            }\r\n            return <Field key={name} \r\n                    label={label} type='text' \r\n                    name={name}\r\n                    placeHolder={placeHolder}\r\n                    component={ SurveyField } />   \r\n        });\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <form\r\n                    onSubmit={this.props.handleSubmit(this.props.onSurveySubmit)} \r\n                >\r\n                    {this.renderFields()}\r\n                    <div className=\"custom-group-buttons custom-mt-30 custom-mb-20\">\r\n                        <Link to=\"/surveys\" className=\"custom-btn custom-btn--red custom-align-center\">\r\n                            Cancel\r\n                        </Link>\r\n                        <button className=\"custom-btn custom-btn--green-2 custom-align-center\"\r\n                                \r\n                                onClick={this.saveDraft.bind(this)}>\r\n                            <span>Save Draft</span>\r\n                            <i className=\"material-icons right custom-icon\" >backup</i>\r\n                        </button>\r\n                        <button type='submit' className=\"custom-btn custom-btn--green-2 \">\r\n                            Next &rarr;\r\n                        </button>                  \r\n                    </div>\r\n                </form>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction validate(values) {\r\n    const errors = {};\r\n\r\n    errors.recipients = validateEmails(values.recipients || '');\r\n\r\n    _.each(formFields , ({ name}) => {\r\n        if (!values[name] && name!== 'from' ) {\r\n            errors[name]=`You must provide ${name}`;\r\n        }\r\n        if (values[name] && name === 'from'){\r\n            errors[name]=validateEmails(values[name], name);\r\n        }\r\n    });\r\n\r\n    return errors;\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    //console.log(state);\r\n    if (state.form.surveyForm){\r\n        return { \r\n            initialValues: state.formInit,\r\n            formValues : state.form.surveyForm.values\r\n        };\r\n    }\r\n    return { \r\n        initialValues: state.formInit\r\n    };\r\n}\r\n\r\nSurveyForm = reduxForm({\r\n    validate: validate,\r\n    form: 'surveyForm',\r\n    destroyOnUnmount: false\r\n})(SurveyForm);\r\n\r\nSurveyForm = connect(mapStateToProps, {  fetchDraft } )(SurveyForm);\r\n\r\nexport default SurveyForm;\r\n\r\n//style = {{margin: '0 30px'}}","import _ from 'lodash';\r\nimport React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport formFields from './formFields';\r\nimport * as actions from '../../actions';\r\n\r\nconst SurveyFormReview = ({onCancel, formValues, submitSurvey,clearDraft, history, credits}) => {\r\n    const reviewFields = _.map(formFields, ({name, label }) => {\r\n        return (\r\n            <div key={name}>\r\n                <label>{label}</label>\r\n                <div>\r\n                    {name !== 'from' ? formValues[name]: formValues[name] ? formValues[name]: 'no-reply@emaily.com' }\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    })\r\n\r\n    const submitSurveyReview = async () =>{\r\n        if(credits > 0) {\r\n            await submitSurvey(formValues, history);\r\n            clearDraft({delete:true});\r\n        } else {\r\n            window.alert(\"You need credits\");\r\n        }\r\n    }\r\n\r\n    const renderNoCreditsAlarm = () => {\r\n        if (credits === 0) {\r\n            return <div className=\"custom-alarm-text\">You have 0 credits left!</div>  \r\n        } \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h5>Please confirm your entries</h5>\r\n            <div>\r\n                {reviewFields}\r\n            </div>\r\n            <div className=\"custom-mt-30 custom-mb-20 custom-group-buttons\">\r\n                <button \r\n                    className=\" custom-btn  custom-btn--orange\"\r\n                    onClick={onCancel}\r\n                    > &larr; Back\r\n                </button>   \r\n                {renderNoCreditsAlarm()}                \r\n                <button disabled={credits === 0}\r\n                    className=\" custom-btn custom-btn--green-2 custom-align-center\"\r\n                    onClick={submitSurveyReview}\r\n                    >\r\n                    <span>Send Survey</span> \r\n                    <i className=\"material-icons right custom-icon\">email</i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        formValues : state.form.surveyForm.values,\r\n        credits: state.auth.credits\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(withRouter(SurveyFormReview));\r\n\r\n","// SurveyNew shows SurveyForm and SurveyFormReview\r\nimport React, { Component} from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { connect } from 'react-redux';\r\nimport Fade from 'react-reveal/Fade'\r\nimport { Flex } from 'rebass'\r\nimport SurveyForm from './SurveyForm';\r\nimport SurveyFormReview from './SurveyFormReview';\r\nimport { fetchDraft, clearDraft }  from '../../actions';\r\n\r\nclass SurveyNew extends Component {\r\n     constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {showFormReview: false};\r\n\r\n        this.props.fetchDraft();\r\n    } \r\n    //the above state initialization, could be replaced with just:\r\n    //state = {showFormReview: false};\r\n\r\n    \r\n    componentWillUnmount(){\r\n        this.props.clearDraft({clear: true});\r\n        }\r\n\r\n    renderContent() {\r\n        if (this.props.DraftValues._id || this.props.DraftValues.noDraft ){\r\n\r\n            if(this.state.showFormReview) {\r\n                return <SurveyFormReview\r\n                onCancel={() => this.setState({showFormReview: false })}\r\n                />;\r\n            }\r\n            \r\n            return <SurveyForm \r\n                onSurveySubmit={() => this.setState({showFormReview: true})}\r\n            />;\r\n        }\r\n        //return <div>Loading...</div>\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Flex justifyContent=\"center\">\r\n                <Fade top>\r\n                    <div className=\"custom-survey_card custom-mt-20\">\r\n                        {this.renderContent()}\r\n                    </div>\r\n                </Fade>\r\n            </Flex>\r\n        );\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return { \r\n        DraftValues: state.formInit\r\n    };\r\n}\r\n\r\nSurveyNew =  reduxForm({\r\n    form: 'surveyForm'\r\n})(SurveyNew);\r\n\r\nSurveyNew = connect(mapStateToProps, {  fetchDraft, clearDraft } )(SurveyNew);\r\n\r\nexport default SurveyNew;\r\n","import React, { Component} from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\n\r\nimport Header from './Header';\r\nimport Landing from './Landing';\r\nimport Dashboard  from './Dashboard';\r\nimport SurveyNew from './surveys/SurveyNew';\r\n\r\nclass App extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <BrowserRouter>\r\n                <div >\r\n                    <Header />\r\n                    <div className=\"custom-image\">\r\n                        <div className=\"container\">\r\n                            <Route exact path=\"/\" component={Landing} />\r\n                            <Route exact path=\"/surveys\" component={Dashboard} />\r\n                            <Route path=\"/surveys/new\" component={SurveyNew} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </BrowserRouter>\r\n        );\r\n    }\r\n};\r\n\r\nexport default App;\r\n\r\n","import { combineReducers} from 'redux';\r\nimport {reducer as reduxForm} from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport surveysReducer from './surveysReducer';\r\nimport {fetchDraftReducer, fetchInitReducer} from './formInitReducer';\r\n\r\nexport default combineReducers({\r\n    auth: authReducer,\r\n    form: reduxForm,\r\n    surveys: surveysReducer,\r\n    draft: fetchDraftReducer,\r\n    formInit: fetchInitReducer\r\n})","import {FETCH_USER} from '../actions/types';\r\n\r\nexport default function (state = {} , action){\r\n    switch(action.type) {\r\n        case FETCH_USER:\r\n            return action.payload || false;\r\n        default:\r\n            return state;\r\n    }\r\n}","import {FETCH_SURVEYS} from '../actions/types';\r\n\r\nexport default function(state = [], action) {\r\n    switch (action.type){\r\n        case FETCH_SURVEYS:\r\n            return action.payload;\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}","import {FETCH_DRAFT, INIT_DRAFT} from '../actions/types';\r\n\r\nexport function fetchDraftReducer (state = {}, action) {\r\n    switch (action.type) {\r\n        case FETCH_DRAFT:\r\n            return action.payload;\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function fetchInitReducer (state = {}, action) {\r\n    switch (action.type) {\r\n        case INIT_DRAFT:\r\n            return action.payload;\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}","import 'materialize-css/dist/css/materialize.min.css';\r\nimport './index.css';\r\nimport React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\n//Dev onli axios helpers\r\n//import axios from 'axios';\r\n//window.axios = axios;\r\n\r\n\r\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\r\n\r\nReactDom.render(\r\n    <Provider store={store}><App /></Provider> ,\r\n    document.querySelector('#root')\r\n);\r\n\r\n"],"sourceRoot":""}